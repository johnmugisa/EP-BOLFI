<?xml version='1.0' encoding='utf-8'?>
<program name="python -m ep_bolfi.kadi_tools.extract_overpotential" description="Please refer to the --help output of this file." version="3.0">
  <param description="Persistent record identifier of the record with the OCV data as prepared by ep_bolfi.kadi_tools.extract_ocv_curve." type="long" name="ocv-record" char="r" required="true"/>
  <param description="The name of the OCV file with electrode SOC to cell SOC assignment as prepared by ep_bolfi.kadi_tools.fit_and_plot_ocv." type="string" name="ocv-file" char="n" required="true"/>
  <param description="Index of the data in the OCV file to use as the starting point of the GITT protocol, as written in its 'indices'. Defaults to the first 'indices' entry in the provided measurement data minus 1." type="real" name="source-index" char="s" default="inf"/>
  <param description="Persistent record identifier of the record with the model parameters." type="long" name="parameters-record" char="k" required="true"/>
  <param description="File name of the model parameters. It must be a Python file and contain the following global variables:&#10;&#10; - parameters: The dictionary of parameters to pass on to the solver. May be a ep_bolfi.utility.preprocessing.SubstitutionDict.&#10;&#10;If both OCPs shall be removed, it must contain additionally:&#10;&#10; - negative_SOC_from_cell_SOC: A callable, for OCV subtraction.&#10;&#10; - positive_SOC_from_cell_SOC: A callable, for OCV subtraction." type="string" name="parameters-file" char="q" required="true"/>
  <param description="Persistent record identifier of the record to store the input for the optimizer in." type="long" name="output-record" char="o" required="true"/>
  <param description="If True (default), each segment will be corrected by the OCV data in the OCV file in addition to the OCV fit function. In the case that the OCV fit function originated from the same OCV file, this just means that any imperfections in the fitted OCV curve get subtracted away. This is useful if absolute voltage values between model and data shall be compared, as the model will not have this mismatch. The 'indices' in the OCV file have to match those in the provided data and be monotonically increasing in both cases. The values that get subtracted are the linear interpolation of the imperfections. Note: the correction calculation assumes that there was a relaxation step right before the first given segment, that the last segment is arelaxation step again, and pulse and relaxation alternate each time." type="bool" name="adjust-for-ocv-mismatch" char="a" default="true"/>
  <param description="Title of the plot. Defaults to the template file name." type="string" name="title" char="t"/>
  <param description="Choose which OCPs to remove from the data." type="choice" choices="positive|negative|both" case_sensitive="true" name="electrode" char="e" default="both"/>
  <param description="Only applicable if 'electrode' is not 'both'. 1 means the calculated SOC is added, -1 means it is subtracted. The default behaviour is 1 for 'positive' and -1 for 'negative'." type="long" name="current-sign" char="c" default="0"/>
  <param description="Only applicable if 'electrode' is not 'both'. 1 means the given OCP is subtracted, -1 means it is added. The default behaviour is 1 for 'positive' and -1 for 'negative'." type="long" name="voltage-sign" char="u" default="0"/>
  <param description="Format of generated image file." type="choice" choices="eps|jpg|jpeg|pdf|pgf|png|ps|raw|rgba|svg|svgz|tif|tiff" case_sensitive="true" name="format" char="f" default="pdf"/>
  <param description="Whether or not an already existing file by the same name in the record gets overwritten." type="bool" name="overwrite" char="w" default="false"/>
  <param description="Toggle to display the plot on the machine this script runs on." type="flag" name="display" char="v" default="false"/>
</program>
